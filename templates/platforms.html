{% extends "base.html" %}

{% block title %}Application Details - Job Tracker{% endblock %}

{% block content %}
    <h3 class="box_title">Platforms Administration</h3>
    <div class="glass-container">
        <form method="post" class="form_platforms">
            <input type="text" id="platform_name" name="platform_name" placeholder="Platform Name" class="form-input"><br>
            <input type="text" id="platform_url" name="platform_url" placeholder="Platform URL" class="form-input"><br>
            <button type="submit" class="btn-primary">Insert Platform</button>
        </form>
    </div>
    <div class="fixed-header">
        <table class="header-table">
            <tr class="tab-header">
                <th>Id</th>
                <th>Platform Name</th>
                <th>Platform URL</th>
                <th></th>
                <th></th>
            </tr>
        </table>
    </div>
    <div class="glass-container-tab">
        <table class="tab-platforms">
            {% for platform in platforms %}
                <tr class="tab-body">
                    <td>{{platform.platform_id}}</td>
                    <td>{{platform.name}}</td>
                    <td>{{platform.url}}</td>
                    <td><i class="fa-solid fa-pen-to-square" style="color: #13ecab;"></i></td>
                    <td>
                        <form method="post" action="{{ url_for('delete_platform', platform_id=platform.platform_id) }}" style="display: inline;">
                            <button type="submit" 
                                    onclick="return confirm('Are you sure you want to delete this platform?')"
                                    style="background: none; border: none; cursor: pointer;">
                                <i class="fa-solid fa-trash" style="color: #5315d0;"></i>
                            </button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>
</body>
{% endblock %}